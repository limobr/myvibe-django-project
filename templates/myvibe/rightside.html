<!-- Right Section -->
<div class="right-section">
  <!-- Events section -->
  <div class="messages">
    <!-- Heading for the events section -->
    <div class="heading">
      <h3>Events</h3>
      <i class="fa-solid fa-pen-to-square"></i>
    </div>

    <!-- Search bar for events -->
    <div class="search-bar">
      <i class="fa-solid fa-search"></i>
      <input type="search" placeholder="Search events" id="event-search" />
    </div>

    <!-- Events list -->
    {% for event in events %}
      <a href="{% url 'event_detail' event.id %}" style="text-decoration: none; color: inherit;">
        <div class="msg-list" style="border: 1px solid #e0e0e0; border-radius: 10px; padding: 10px; margin-bottom: 10px;">
          <!-- Event image -->
          <div class="profile-pic" style="width: 50px; height: 50px; overflow: hidden;">
            <img src="{{ event.get_primary_image }}" alt="{{ event.title }}" 
                 style="width: 50px; height: 50px; object-fit: cover; border-radius: 50%;" />
          </div>

          <!-- Event content -->
          <div class="msg-content">
            <h5>{{ event.title }}</h5>
            <p class="muted textured">{{ event.start_time|date:"M d, Y H:i" }}</p>
            <!-- Interests -->
            <div class="interests" style="margin-top: 5px; display: flex; flex-wrap: wrap; gap: 5px;">
              {% for interest in event.interests.all %}
                {% if forloop.counter|divisibleby:4 %}
                  <span class="interest-badge" style="display: inline-block; padding: 3px 8px; font-size: 12px; color: white; background-color: #007bff; border-radius: 12px;">{{ interest.name }}</span>
                {% elif forloop.counter|divisibleby:3 %}
                  <span class="interest-badge" style="display: inline-block; padding: 3px 8px; font-size: 12px; color: white; background-color: #28a745; border-radius: 12px;">{{ interest.name }}</span>
                {% elif forloop.counter|divisibleby:2 %}
                  <span class="interest-badge" style="display: inline-block; padding: 3px 8px; font-size: 12px; color: white; background-color: #6f42c1; border-radius: 12px;">{{ interest.name }}</span>
                {% else %}
                  <span class="interest-badge" style="display: inline-block; padding: 3px 8px; font-size: 12px; color: white; background-color: #fd7e14; border-radius: 12px;">{{ interest.name }}</span>
                {% endif %}
              {% empty %}
                <span class="interest-badge" style="display: inline-block; padding: 3px 8px; font-size: 12px; color: white; background-color: #6c757d; border-radius: 12px;">No Interests</span>
              {% endfor %}
            </div>
          </div>
        </div>
      </a>
    {% empty %}
      <p class="muted-text">No events found.</p>
    {% endfor %}
  </div>

  <!-- Friend Requests section (unchanged) -->
  <div class="friend-requests">
    <h4>Requests</h4>
    <div class="request">
      <div class="info">
        <div class="profile-pic">
          <img src="/images/profile-6.jpg" alt="" />
        </div>
        <div>
          <h5>Isabella Cooper</h5>
          <p class="muted-text">10 Mutual Friends</p>
        </div>
      </div>
      <div class="action">
        <button class="btn btn-primary">Accept</button>
        <button class="btn">Decline</button>
      </div>
    </div>
    <!-- Remaining friend requests omitted for brevity -->
  </div>
</div>